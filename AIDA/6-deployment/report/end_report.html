<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>252230594daa49da92a07d714ce57061</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 60em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div id="d396781d-fe7d-4ed7-9d65-4d690879516a" class="cell markdown">
<h1 id="end-report">End report</h1>
</div>
<div id="379a022b-e165-40b4-b876-c7d7f9a70238" class="cell markdown">
<h2 id="introduction">Introduction</h2>
<p>This is the final section of the steps for this project. In the final
report, we present the steps taken during the project and the results of
the project. This report also summarizes next steps for the application
made during the project.</p>
<p><img src="./img/logo.png" /></p>
</div>
<div id="821fd6d7-7e64-420a-8e5a-f1ece47fa392" class="cell markdown">
<h2 id="project-steps">Project Steps</h2>
<h3 id="business-understanding-and-data-understanding">Business
understanding and Data understanding</h3>
<p>In the first two steps, we defined the purpose of the project and the
need for this project. The customer's needs were mapped in order to
understand what the customer really wants so that the application can be
developed in the right direction. We also looked into the material so
that we could handle it correctly in the next steps.</p>
<p>A thorough examination of the available data was conducted, resulting
in the creation of a comprehensive Data Description Report. This step
was essential in determining the cleanliness and adequacy of the data,
ensuring its suitability for subsequent analysis.</p>
<p>The first two phases went well and everyone on the team had a clear
idea of what the purpose of this project was.</p>
<h3 id="data-preparation">Data preparation</h3>
<p>Each team member was assigned a topic to research. The topics were
"Impact of Sales Area on Vehicle's Age, Type, and Price", "Cars That
Sell the Worst", "Effect on Price for Vehicles Used as Taxis" and
"Identifying Dominant Features for Sales". At this stage, every member
of the team gained valuable experience in processing large amounts of
data and visualizing that data. At this stage, each team member also got
an idea of what information the dataset contains and how we can use the
data in the next steps.</p>
<h3 id="modeling">Modeling</h3>
<p>In the modeling phase, we tested different models and tried to find
out which machine learning model would be the best fit for this data.
During this phase, we still had to go back to the preprocessing phase,
because in the modeling phase our understanding of the data deepened,
and we were able to find out the characteristics that had the most
impact on the model. In the modeling phase, we achieved very good
results. Optuna parameter optimization was employed to fine-tune the
model, ensuring its optimal performance in capturing the underlying
patterns in the data. The final model predicts the price of the car with
more than 95% accuracy. We are currently satisfied with the accuracy of
the model. However, nothing is ever really ready, the model could always
be improved.</p>
<p><img src="./img/results-model.png" /></p>
<h3 id="evaluation">Evaluation</h3>
<p>The models were rigorously evaluated to determine which one best
aligned with the business objectives. The Model Evaluation process
provided insights into the effectiveness of the developed models,
allowing for informed decisions on model selection.</p>
<h3 id="deployment">Deployment</h3>
<p>The project culminated in the deployment phase, where we got to the
point where we run the application locally. The application has a front
end and a small back end using the Flask framework. Flask connects the
trained model to a user interface where the user enters the car's
information and then gets a prediction for the car's price. The
information that the user enters in the UI has been selected according
to what our machine learning model considers to be the most
price-influencing features.</p>
<p>During the entire project, we were able to achieve the so-called MVP.
From this, it is easy to continue in the future with a more automated
process, where, for example, when new data comes in, the model would be
automatically trained with the new data.</p>
<p><img src="./img/minimum-viable-product-mvp.png" /></p>
</div>
<div id="ff8f77ec-40ac-4125-b391-f1796e99f4eb" class="cell markdown">
<h2 id="used-technologies">Used Technologies</h2>
<p>Here are all the technologies we have used during the project.</p>
<ul>
<li><strong>Optuna</strong>: Optuna is a hyperparameter optimization
framework. It helps in automating the process of tuning hyperparameters,
which were crucial in tuning out LightGBM model.</li>
<li><strong>LightGBM</strong>: LightGBM is a gradient boosting
framework. It is used for building gradient boosting models, which are
powerful algorithms for classification and regression tasks. LightGBM is
known for its efficiency and speed, making it suitable for large
datasets.</li>
<li><strong>Scikit-learn</strong>: Scikit-learn is a machine learning
library for Python. It provides a wide range of tools for tasks such as
classification, regression, clustering, and more.</li>
<li><strong>Python</strong>: Python is a versatile programming language.
Python is widely used in machine learning for its simplicity and a rich
ecosystem of libraries. It serves as the primary programming language
for developing machine learning models, data analysis, and various other
tasks in our project.</li>
<li><strong>Flask</strong>: Flask is a web framework for Python. Flask
is used to deploy machine learning model as web services or APIs. It
helps in creating a web interface to interact with the models, making
them accessible to users over the internet.</li>
<li><strong>HTML</strong>: HTML is a markup language for creating web
pages. HTML is used to structure the content of our web pages. HTML is
employed to design user interfaces for model deployment, result
visualization, and interaction with users.</li>
<li><strong>CSS</strong>: CSS (Cascading Style Sheets) is a stylesheet
language for describing the presentation of a document written in HTML.
CSS is used to style the HTML elements, enhancing the visual
presentation of our web pages.</li>
</ul>
<p><img src="./img/tech.png" /></p>
</div>
<div id="77195d66-c043-4623-bd32-860634cdcf3b" class="cell markdown">
<h2 id="deployment-process">Deployment Process</h2>
<h3 id="model-deployment">Model Deployment</h3>
<p>The model is currently executed locally on a computer. Instructions
for running the application can be found in the <a
href="https://gitlab.labranet.jamk.fi/AB7766/aida-team1/-/tree/main/6-deployment/flask-app">Deplyment
phase repository</a>.</p>
<p>Deploying the application to a server would provide a more scalable,
accessible, reliable, and collaborative environment, with improved
resource utilization and enhanced security, making it a preferable
choice for production-ready applications. Deploying the application to
server would be the next step in this project. We would choose server
like CSC, because its free to use for students and some of the team
members have previously used CSC's services for hosting
applications.</p>
<h3 id="model-upload-to-production-server">Model Upload to Production
Server</h3>
<ol>
<li><p>Selecting a Production Server</p></li>
<li><p>Preparation of the Model</p>
<p>Model is already prepared. Model is trained and testted thoroughly in
the development environment. All needed components (libraries, model,
frameworks) should be containerized to ease the deployment.</p></li>
<li><p>Environment Setup on Production Server</p>
<p>Required runtime environment should be set up to production server,
including installing necessary libraries, frameworks, and dependencies.
Production server should match the specifications of the development
env.</p></li>
<li><p>Model Upload to Server</p>
<p>Packaged model files should be transferred to the production server.
This can be done using various methods, such as SCP (Secure Copy
Protocol), FTP (File Transfer Protocol), or through version control
systems.</p></li>
<li><p>Model Verification</p>
<p>Integrity of the transferred model files on the production server
should be verified to ensure that there are no data corruption issues
during the upload.</p></li>
<li><p>Server Configuration Updates</p>
<p>Server configurations should be updated to integrate the model into
the production environment. This may involve modifying server settings,
environment variables, or system configurations.</p></li>
<li><p>Testing the Deployed Model</p>
<p>Initial tests should be conducted to ensure that the model runs
correctly in the production environment. This may involve running sample
predictions and evaluating performance metrics.</p></li>
<li><p>Monitoring and Logging</p>
<p>Monitoring and logging mechanisms should be implemented to track the
performance of the deployed model. This includes logging predictions,
monitoring resource usage, and setting up alerts for potential
issues.</p></li>
<li><p>Documentation and Versioning</p>
<p>The deployed model should be documneted, including version
information, dependencies, and any specific configurations. Proper
version control should be maintained to facilitate future updates and
rollbacks.</p></li>
<li><p>Post-Deployment Testing</p>
<p>Thorough testing after deployment should be conducted to verify that
the model performs as expected in a production setting. This includes
testing with real-world data and user scenarios.</p></li>
</ol>
</div>
<div id="9cae6fd3-e022-42ba-b52a-09718b9b17dd" class="cell markdown">
<h2 id="maintenance-plan">Maintenance plan</h2>
<p>A maintenance plan is crucial for ensuring the continued
functionality, performance, and security of your application. Here's a
rough-level maintenance plan for a Car Price Predictor deployed in a
production environment.</p>
<ol>
<li><p>Regular Monitoring</p>
<ul>
<li>Implement continuous monitoring of the application's performance,
including resource usage, response times, and error rates.</li>
<li>Set up alerts for critical issues and irregularities in model
predictions or system behavior.</li>
</ul></li>
<li><p>Data Quality Checks:</p>
<ul>
<li>Regularly assess and validate the quality of incoming data to ensure
that it meets the required standards for model training and
inference.</li>
<li>Implement checks for missing values, outliers, and data
inconsistencies.</li>
</ul></li>
<li><p>Scheduled Retraining:</p>
<ul>
<li>Maintain a schedule for periodic model retraining to keep it
up-to-date with the latest data trends and patterns.</li>
<li>Automate the retraining process and ensure that it aligns with the
data collection frequency.</li>
</ul></li>
<li><p>Backup and Recovery</p>
<ul>
<li>Implement regular backups of critical data, configurations, and
model versions.</li>
<li>Test and document the recovery process to ensure a quick and
reliable restoration in case of data loss or system failures.</li>
</ul></li>
<li><p>Documentation Updates</p>
<ul>
<li>Keep all documentation, including user manuals, deployment guides,
and system architecture documentation, up-to-date with the latest
changes.</li>
<li>Document any modifications to the application's configurations or
dependencies.</li>
</ul></li>
<li><p>Dependency Management</p>
<ul>
<li>Regularly review and update external dependencies, libraries, and
frameworks to ensure that the application benefits from the latest
features, bug fixes, and security patches.</li>
</ul></li>
<li><p>Performance Optimization</p>
<ul>
<li>Periodically assess the application's performance and identify
opportunities for optimization, both in terms of code efficiency and
resource utilization.</li>
<li>Implement optimizations to maintain or improve response times.</li>
</ul></li>
<li><p>Scalability Planning</p>
<ul>
<li>Continuously evaluate the application's scalability and plan for
future growth.</li>
<li>Implement scalability measures proactively to accommodate increasing
user loads or data volumes.</li>
</ul></li>
<li><p>Feedback Loops</p>
<ul>
<li>Establish feedback loops with end-users and stakeholders to gather
insights into their experiences with the application.</li>
<li>Use feedback to identify areas for improvement and prioritize
feature enhancements.</li>
</ul></li>
<li><p>Environment Testing</p>
<ul>
<li>Regularly test the application in a staging environment that mirrors
the production setup to catch potential issues before they affect
end-users.</li>
</ul></li>
<li><p>Continuous Improvement</p>
<ul>
<li>Foster a culture of continuous improvement by regularly assessing
the effectiveness of maintenance processes and identifying opportunities
for enhancement.</li>
</ul></li>
</ol>
</div>
<div id="9d064b25-1ac6-4b32-85e3-9d8d581662bd" class="cell markdown">
<h2 id="user-interface">User Interface</h2>
<h3 id="current-ui">Current UI</h3>
<p>In the current version, the user enters 10 selected car features into
the user interface. After this, the user clicks the "Submit" button,
after which the predicted car price appears on the screen.</p>
<p><img src="./img/front.png" /></p>
</div>
<div id="d6c10560-d12f-4ff8-8603-bfa03dd292cc" class="cell markdown">
<h2 id="user-base">User Base</h2>
<p>The main user of this application is car dealership employees
responsible for determining prices for new cars. The car price predictor
could possibly also be used by car shop customers who are interested in
how much money they could get for their own car.</p>
</div>
<div id="41e6b31d-b6c8-484a-b319-f47a76d0ff89" class="cell markdown">
<h2 id="conclusion">Conclusion</h2>
<p>Throughout the AIDA project, Team 1 has diligently followed the
CRISP-DM model to tackle the challenge of understanding and leveraging
collected data for meaningful insights. The project's primary objective
was to develop machine learning models aligned with the customer's
needs, with a focus on optimizing the understanding of sales dynamics in
the context of vehicle age, type, and price.</p>
<p>In conclusion, AIDA Project Team 1 successfully navigated through the
CRISP-DM model, transforming raw data into valuable insights. The
implemented machine learning models are poised to contribute
meaningfully to the understanding of sales dynamics, thereby empowering
the customer with actionable information for informed decision-making.
The comprehensive approach taken by the team in each step underscores
the commitment to delivering a robust and impactful solution to the
client's needs.</p>
</div>
<div id="1b586012-52fe-4345-b78d-8cf741242a94" class="cell markdown">
<h2 id="demo">Demo</h2>
<p>This is a demo of our application. it is ran locally, and it shows
how to input data to form and get prediction of price based on user
inputs.</p>
</div>
<div id="9e92ec26-7f7a-428a-9b3f-bc6af8d9b56f" class="cell code"
data-execution_count="4" data-tags="[]">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> HTML</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>HTML(<span class="st">&quot;&quot;&quot;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;video alt=&quot;test&quot; controls&gt;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;source src=&quot;./img/demo.mp4&quot; type=&quot;video/mp4&quot;&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;/video&gt;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;&quot;&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="4">

    <video alt="test" controls>
        <source src="./img/demo.mp4" type="video/mp4" style="width: 90%;">
    </video>

</div>
</div>
<div id="73c20b50-5cb1-4f8b-830e-22765c92e392" class="cell markdown">
<h2 id="future-considerations">Future Considerations</h2>
<p>In the future, the user could be given the option to enter more
features of the car, depending on what the user wants to enter. This
application could also be integrated into the pages of a car shop either
for internal use only, or for the public use also.</p>
</div>
</body>
</html>
